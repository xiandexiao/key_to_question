## 计算机网络：系统方法
### 基础

1. **交换网**(page 23)

将这些节点按系统化的方法进行组织，就形成一个交换网(switched network) 交换网有很多种类型夕电路交换(circuit switched)和 **分组交换(packet switched)** 是其中最为常见的两种。前者主要用于电话系统，而后者用于绝大多数的计算机网络。

2. **internet和Internet区别**(page 24)

一些独立的网络（云）互联形成一个互联网（intenietwork,简称internet）,而将当前运行的TCP/IP因特网用T蹲开头的Internet表示。

3. **路由**(page 25)

连接到两个或多个网络的节点通常称为路由器（router）或网关（gateway）;根据目的节点地址来确定如何将消息转发到目的节点的过程称为路由(muting)。
源节点要发送消息给单个目的节点(单播(unicast));
源节点也可能向网络上的所有节点广播(broadcast)一条消息;
者源节点要发一条消息给其他节点的某个子集，而并非所有节点，这种情况称为多播(multicast)。

4. **多路复用（nulltiplexing）**(page 26)

> 如何共享一个网络?

将多个数据流多路复用到一条物理链路

方法: 

* 一种常用的方法是同步时分多路复用（synchronous time-division multiplexing, STDM），STDM 的思想是将时间
划分为等长的时间片，以轮转方式使每个数据流都有机会将数据发送到物理链路上。

* 另一种方法是频分多路复用（frequency-division multiplexing,FDM）。FDM的思想是将每个流以不同的频率发向物理链路。

缺点：

* 如果有一个流（主机对）没有数据要发送，它占用的物理链路（即它的时间片或频率）就会空闲，即使其他流此时有数据要发送也无法使用。

* STDM和FDM所容纳的数据流的最大数目是事先固定和已知的。 在STDM的情况下，修改时间片的大小、添加额外的时间片或FDM情况下加入新频率，都是不实际的。

改进方法:

* 统计多路复用(statistical multiplexing)，与STDM类型，区别是每个流的数据是根据需要传输，就不会岀现分配给其他流的时间片白白浪费的情况。正是这种避免空闲时间的方法使分组交换具有较高的效率。 一旦一个流开始发送数据，我们需要采用某种方法（定义每个流在给定的时间内允许传输的数据块大小的上界——块通常称为一个分组(packet)）来限制它的发送，使得其他流能够有机会传输数据。

为特定数据流分配带宽的计算机网络有时称为支持服务质量(Quality of Service, QoS）

5. **交换机分发分组**（page 27）

* 交换机接收分组的速度很有可能比共享链路传输分组的速度快：分组将最终耗尽其缓存空间，一些分组就不得不被丢
弃。当交换机处于这种状态时，称为拥塞(congested)。 

6. **SAN、LANS MAN 和 WAN**

* 局域网(LAN)和广域网(WAN)。前者的范围通常用在1公里以内'而后者则可以是世界范围的。其他网络被归类为城域网(MAN),通常跨越几十公里。

* SAN (现在称为存储区域网(storage area network),但以前也被称为系统区域网(system area network)) 。SAN通常限制在一个房间里,并且把一个大的计算系统的各种组件连接起来。例如，光纤信道是一种常见的SAN技术，用来将高性能计算系统连接到存储服务器和数据仓库上。

7. **网络故障**
* 现比特错（bit error）1变成0或0变成1
* 分组级故障：分组含有不可纠正的比特差错，因此不得不丢掉（原因：交换机由于过载而没有空间存储分组，拥塞；处理分组的节点上运行的软件出现错误）
* 节点和链路级故障
    如何缩小应用需求与底层技术所能提供服务之间的差距。这种差距宥时称为语义缝隙(semantic gap) 。

8. **网络体系结构**
* 即OSI （或7层）体系结构和因特网体系结构。

9. **协议（protocol）**（page 33）
* 构成网络系统分层的抽象对象称为协议（protocol） ；一个协议提供一种通信服务，供高层对象（如一个应用进程或更高层的协议）交换消息。
    * 指抽象接口，即由服务接口定义的操作以及对等实体之间交换的消息的格式和含义（协议规范(protocol specification)）
    * 表示实际实现这两种接口的模块
* 每一种协议提供不同的通信服务。因此我们用协议图（protocol graph）来表示构成网络系统的协议族

10. **首部(header)**
> 指示对等实体如何处理收到的消息 （也可在消息的末尾发送，称为尾部（trailer））

11 **为消息体(body)或有效载荷(payload)**
> 消息的其余部分

12 **封装(encapsulate)** page 35
> 封装过程在协议图的每一层都被重复

13. **多路复用和多路分解**
> 一条逻辑通信信道，来自两个不同应用的消息在源主机上多路复用到这条信道，然后在目标主机上多路分解到相应的应用

* 首部包含一个标识符，用于记录消息属于哪个应用程序，这个标识符称为多路分解键(demultiplexing key简写为demux key) 

14. **开放系统互联(Open Systems Interconnection OSI)体系结构**
> 协议图的参考模型(reference model)

* 物理(physical)层：处理通信链路上原始比特的传输
* 数据链路(data link)层：收集比特流形成一个更大的集合体，称为帧(frame)；网络适配器和操作系统上的设备驱动程序一起来实现
* 网络（network）层：处理一个分组交换网内节点的路由，节点间交换的数据单元通常称为分组（packet）而不是帧
* 传输（transport）层：进程到进程信道，交换的数据单元通常称为消息（message）而不是分组或帧
* 应用（application）层：协议包括超文本传输协议（HTTP）
* 表示（presentation）层：关注对等实体间交换的数据的格式
* 会话（session）层：将一个应用的各部分不同的传输流联系在一起，例如，它可以管理一个视频会议应用中结合在一起的一个音频流和一个视频流。

15. **带宽和时延** page 43
> 网络性能有两种基本度量方法:带宽(bandwidth)(也称为吞吐量(throughput))和时延(latency)(也称为延迟(delay))

* 网络的带宽是在一段特定的时间内网络所能传输的比特数
* 带宽的字面定义是频带宽度的度量。例如音频级电话线路，支持300〜3300Hz范围内的频带，那么就说它的带宽3300Hz-300Hz-3000Hz
* 知道一条消息从网络的一端传到另一端并返回所花费的时间，而不只是单程的时延。我们称它为网络的往返时间（round-trip time RTT） o
* 三个组成部分：
    ```
    Latency=Propagation+Transmit+ Queue
    Propagation=Distance/SpeedOfLight // 光速传播延迟
    Transmit= Size/Bandwidth // 发送一个数据单元花费的时间
    Queue // 网络内部的排队延迟,分组交换机
    ```

16. **延迟带宽积**
```
延迟和带宽的乘积就是管道的容积
```

17. **有效端到端吞吐量**
```
Throughput= TransferSize/TransferTime
TransferTime= RTT+1/Bandwidth X TransferSize
```

18. 二进制数据编码成电磁波信号
* 下层涉及调制（modulation）即通过改变信号的频率、振幅或相位来实现信息的传输

19. **香农定理**
```
// C: 可达到的信道容量, B: 用Hz表示的信道带 S/N: 信噪比 SNR = lg(S/N);
C=Blog2（l + S/N）
```

20. 波长
```
l = c / f
```

21. **二进制数据编码成电磁波信号**
* 下层涉及调制（modulation） 即通过改变信号的频率、 振幅或相位来实现信息的传输
* 不归零(Non-Retum to Zero, NRZ): 将数值1映射为高电平， 数值0映射为低电平, 缺点: 
    * 基线漂移(baseline wander)状态
    * 频繁转换必须使用时钟恢复(clock recovery) 时钟不同步，解决办法
        * 曼彻斯特编码: 通过传输NRZ编码数据与时钟的异或值使时钟与信号结合在一起 波特率变化快，传输数据小
        * 不归零反转(Non-Retum to Zero Inverted,NRZI 发送方将当前信号的跳变编码为1, 将当前信号的保持编码为0
    * 4B/5B: 比特流中插入额外的比特以打破一连串的0或1, 5个比特来编码4个比特的数据
        * 11111-线路空闲, 00000-线路不通, 0010-停止, 剩下的13个码中， 7个是无效的（因为它们违反了 1个前导、 0或两个末尾0的规则儿另外6个代表各种控制符号（组帧协议用）

22. **面向字节的协议（BISYNC、PPP、DDCMP）**
* 二进制同步通信（Binary Synchronous Communication9 BISYNC）协议：起止标记法
* PPP帧格式：
* 字节计数法

23. **面向比特的协议（HDLC高级数据链路控协议）**

24. 循环冗余校验(Cyclic Redundancy Check,CRC)
> 二维奇偶校验(two-dimensional parity) 与校验和(checksum) 
> 计算CRC，发送方和接收方必须商定一个除数（divisor）多项式C（x）以太网标准使用一个众所周知的32次需的多项式

25. **可靠传输**
> 发送方发送原始帧 -> 接收方发送ack控制帧 自动请求重发(Automatic Repeat Request, ARQ)
* 确认(acknowledgement) 协议发给它的对等实体的一个小的控制帧
* 超时(timeout) 发送方在一段相当长的时间后未收到确认， 那么它重传(retransmit)原始帧。

26. **访问协议**
> 以太网的介质访问控制(Media Access Control, MAC) 控制访问共享以太网链路的算法
> IPv6: 6字节组成，没字节由16进制表示

27. **两个（或更多） 帧在网上冲突（collide）**
> 因为两者都发现线路空闲或两者都在等待线路变空闲

28. **构建局域网**
* 以太网 总线型拓扑结构
* 令牌环网 IEEE 802.5 环型拓扑结构
    > “令牌， '是一个特定的比特序列， 它在环中循环移动， 每个节点接收令牌然后转发
* 当频谱在许多设备和应用间共享时， 一种解决思路是利用扩频(spread spectrum)技术
* 跳频(frequency hopping)是一种以随机的频率序列传输信号的扩频技术， 它的机制是首先以一个频率传输信号， 接着以第二个频率传输， 然后以第三个频率， 依此类推。 传输频率的序列不是真正的随机， 而是由一个伪随机数生成器计算生成的
* 直接序列

29. **Wi-Fi**
> 基于IEEE 802. 11标准的无线网络

> 物理层标准:
    * 跳频
    * 直接序列 11 切片
    * 802.llb 利用不同的直接序列 2.4GHz的免许可频带
    * 802.11a 正交频分多路复用 OFDM 运行在5GHz
    * 802.11g 它向后兼容802.11b （可用2. 4GHz频带）
    * 802.lln 多路天线， 允许更大的无线信道带宽 MIMO,用于多路输入输出

> CSMA/CA解决（冲突避免（avoidance））解决隐藏节点和暴露节点问题
    * RTS-CTS （请求发送-清除发送） 的机制

30. **分布式系统**
> 当节点从一个区域移动到另一个区域时该算法步骤 选择AP的技术称为扫描
    * 节点发送一个Probe帧
    * 所有可达的AP用一个Probe Response帧应答。
    * 节点从中选择一个AP,并向那个AP发送一个Association Request帧
    * AP 用一个 Association Response 帧应答。

31. **蓝牙（802. 15. 1）**
> 蓝牙运行在2. 45GH, 归类为个人区域网络（Personal Area Network, PAN）

> 传感器 IEEE 802.15.4

**蜂窝电话技术**
> 由一个基站天线负责的地理区域称为一个蜂窝（cell）
> 3G标准都基于CDMA （码分多路复用） 